<div id="cse" style="width: 100%;text-align:center;"><div style="padding-top:20px;">Buscando...</div></div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript">
google.load("search", "1", {language: "es", style: src=window.location.origin+"/static/css/search.css",callback: parent.window.iframeHeight(document.body.offsetHeight)});
google.setOnLoadCallback(function() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions["keys"] = [{label: "Relevance", key: ""} , {label: "Date", key: "date"}];
	customSearchOptions["enableOrderBy"] = false;
	customSearchOptions["orderByOptions"] = orderByOptions;
	var customSearchControl =	 new google.search.CustomSearchControl("005807183323675142100:g7e-yaxa840", customSearchOptions);
	customSearchControl.setSearchCompleteCallback(this,function(searcher, searchNum) {
		parent.iframeHeight(document.body.offsetHeight);
	},[customSearchControl]);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	var options = new google.search.DrawOptions();
	options.enableSearchResultsOnly();
	options.setAutoComplete(true);
	customSearchControl.draw("cse", options);
	function parseParamsFromUrl() {
		var params = {};
		var parts = window.location.search.substr(1).split("&");
		for (var i = 0; i < parts.length; i++) {
			var keyValuePair = parts[i].split("=");
			var key = decodeURIComponent(keyValuePair[0]);
			params[key] = keyValuePair[1] ?
					decodeURIComponent(keyValuePair[1].replace(/\+/g, " ")) :
					keyValuePair[1];
		}
		return params;
	}
	var urlParams = parseParamsFromUrl();
	var queryParamName = "q";
	if (urlParams[queryParamName]) {
		customSearchControl.execute(urlParams[queryParamName]);
	}
}, true);
</script>
